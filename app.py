import streamlit as st
import google.generativeai as genai

# 1. API í‚¤ ì„¤ì • (êµ¬ê¸€ AI ìŠ¤íŠœë””ì˜¤ì—ì„œ ë¬´ë£Œ ë°œê¸‰ ê°€ëŠ¥)
API_KEY = st.secrets["GEMINI_API_KEY"]
genai.configure(api_key=API_KEY)
model = genai.GenerativeModel('gemini-1.5-pro-latest')

# 2. ì›¹ í™”ë©´ UI êµ¬ì„±
st.set_page_config(page_title="R&D ì£¼ì œ ìë™ ì¶”ì¶œê¸°", page_icon="ğŸ¢")
st.title("ğŸ¢ ê¸°ì—…ë¶€ì„¤ì—°êµ¬ì†Œ R&D ì£¼ì œ ì¶”ì¶œê¸°")
st.markdown("---")
st.write("ì‚¬ì—…ìë“±ë¡ì¦ì˜ **ì—…íƒœ**ì™€ **ì¢…ëª©**ì„ ì…ë ¥í•˜ë©´ ì‹¬ì‚¬ì— ìœ ë¦¬í•œ R&D ì£¼ì œë¥¼ ìë™ìœ¼ë¡œ ì œì•ˆí•©ë‹ˆë‹¤.")

# ì…ë ¥ í¼
col1, col2 = st.columns(2)
with col1:
    business_type = st.text_input("ì—…íƒœ (ì˜ˆ: ì œì¡°ì—…, ì •ë³´í†µì‹ ì—…)")
with col2:
    business_item = st.text_input("ì¢…ëª© (ì˜ˆ: ê¸ˆì†ê°€ê³µ, ì†Œí”„íŠ¸ì›¨ì–´ ê°œë°œ)")

# 3. ì‹¤í–‰ ë¡œì§ (í”„ë¡¬í”„íŠ¸ ì—”ì§€ë‹ˆì–´ë§)
if st.button("ğŸš€ ë§ì¶¤í˜• R&D ì£¼ì œ ë„ì¶œí•˜ê¸°"):
    if business_item:
        with st.spinner("AIê°€ ìµœì ì˜ R&D ì£¼ì œë¥¼ ë¶„ì„í•˜ê³  ìˆìŠµë‹ˆë‹¤... (ì•½ 10ì´ˆ ì†Œìš”)"):
            prompt = f"""
            ë‹¹ì‹ ì€ ì¤‘ì†Œê¸°ì—… ì—°êµ¬ì†Œ ì„¤ë¦½ ì „ë¬¸ ì»¨ì„¤í„´íŠ¸ì…ë‹ˆë‹¤.
            ë‹¤ìŒ ê¸°ì—…ì˜ í•œêµ­ì‚°ì—…ê¸°ìˆ ì§„í¥í˜‘íšŒ(KOITA) ê¸°ì—…ë¶€ì„¤ì—°êµ¬ì†Œ ì„¤ë¦½ ìš”ê±´ì— ë¶€í•©í•˜ëŠ” R&D ì£¼ì œ 3ê°€ì§€ë¥¼ ì œì•ˆí•´ ì£¼ì„¸ìš”.
            
            - ì—…íƒœ: {business_type}
            - ì¢…ëª©: {business_item}
            
            [ì¶œë ¥ ì–‘ì‹]
            * **ì—°êµ¬ ì£¼ì œëª…:** (ì „ë¬¸ì ì´ê³  ì§ê´€ì ì¸ ëª…ì¹­)
            * **ì—°êµ¬ ëª©í‘œ:** (ë‹¬ì„±í•˜ê³ ì í•˜ëŠ” êµ¬ì²´ì  ëª©í‘œ)
            * **ê¸°ëŒ€ íš¨ê³¼:** (ì›ê°€ ì ˆê°, ìƒì‚°ì„± í–¥ìƒ ë“±)
            * **ì¢…ëª© ì—°ê´€ì„±:** (í•´ë‹¹ ì¢…ëª©ê³¼ ì–´ë–»ê²Œ ì—°ê²°ë˜ëŠ”ì§€)
            """
            
            # AIì—ê²Œ ë‹µë³€ ìš”ì²­
            response = model.generate_content(prompt)
            
            # ê²°ê³¼ ì¶œë ¥
            st.success("ë¶„ì„ì´ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤!")
            st.markdown(response.text)
    else:
        st.warning("âš ï¸ ì¢…ëª©ì„ ë°˜ë“œì‹œ ì…ë ¥í•´ ì£¼ì„¸ìš”.")

